# Data Directory

This directory is for user-provided data files that complement the automatically-downloaded Census/ACS data.

## Optional Data Files

### 1. Building Demolitions (`demolitions.csv`)

**Purpose**: Track building demolitions that directly displace residents.

**Format**:
```csv
demo_id,latitude,longitude,demo_date,building_type
1,30.267153,-97.743061,2021-06-15,Single Family
2,30.268422,-97.744318,2021-08-22,Multi-Family
3,30.269134,-97.745927,2021-10-03,Commercial
```

**Required Columns**:
- `demo_id`: Unique identifier for each demolition
- `latitude`: Latitude in decimal degrees (WGS84)
- `longitude`: Longitude in decimal degrees (WGS84)
- `demo_date`: Date of demolition (YYYY-MM-DD format)
- `building_type`: Type of building (e.g., "Single Family", "Multi-Family", "Commercial")

**Data Sources**:
- City building permit databases
- Demolition permit records
- Property assessment records

---

### 2. Rent Prices (`rent_prices.csv`)

**Purpose**: Track rent price changes over time to identify areas of rapid rent growth.

**Format**:
```csv
hex_id,date,median_rent
1,2021-01-01,1200
1,2021-04-01,1250
1,2021-07-01,1300
2,2021-01-01,1500
2,2021-04-01,1550
```

**Required Columns**:
- `hex_id`: Hexagon ID from the grid (generated by `01_create_hex_grid.R`)
- `date`: Date of observation (YYYY-MM-DD format)
- `median_rent`: Median rent in dollars

**Alternative Format** (if you have point-level data):
```csv
property_id,latitude,longitude,date,rent
1,30.267153,-97.743061,2021-01-01,1200
1,30.267153,-97.743061,2021-04-01,1250
```

**Data Sources**:
- Zillow Rent Index
- CoStar rental data
- Apartment listing websites (scraped with permission)
- Fair Market Rent (FMR) from HUD

---

### 3. Eviction Filings (`evictions.csv`) - COMING SOON

**Purpose**: Track eviction filings as an indicator of housing insecurity.

**Planned Format**:
```csv
eviction_id,latitude,longitude,filing_date,case_type,outcome
1,30.267153,-97.743061,2021-03-15,Non-payment,Granted
2,30.268422,-97.744318,2021-04-22,Lease violation,Dismissed
```

**Integration**: Add to `02_process_data.R` Section 7

---

### 4. Land Values (`land_values.csv`) - COMING SOON

**Purpose**: Track changes in land values that may signal gentrification pressure.

**Planned Format**:
```csv
parcel_id,latitude,longitude,assessment_date,land_value,improvement_value
1,30.267153,-97.743061,2021-01-01,250000,350000
1,30.267153,-97.743061,2022-01-01,280000,350000
```

**Integration**: Add to `02_process_data.R` Section 8

---

### 5. Corporate Ownership (`corporate_ownership.csv`) - COMING SOON

**Purpose**: Track concentration of corporate/investor ownership of rental properties.

**Planned Format**:
```csv
property_id,latitude,longitude,owner_name,owner_type,acquisition_date,units
1,30.267153,-97.743061,ABC Investments LLC,Corporate,2021-01-15,12
2,30.268422,-97.744318,Individual Owner,Individual,2019-03-20,1
```

**Integration**: Add to `02_process_data.R` Section 9

---

## Data Preparation Tips

### Geocoding Addresses

If your data has addresses instead of coordinates:

```r
library(tidygeocoder)

data_with_coords <- your_data %>%
  geocode(
    address = address_column,
    method = "osm",  # or "census", "google", etc.
    lat = latitude,
    lon = longitude
  )
```

### Aggregating to Hexagons

If you have point-level data to aggregate:

```r
# Load hex grid
hex_grid <- readRDS("output/hex_grid.rds")

# Convert your data to spatial
your_data_sf <- your_data %>%
  st_as_sf(coords = c("longitude", "latitude"), crs = 4326)

# Spatial join
aggregated <- hex_grid %>%
  st_join(your_data_sf) %>%
  group_by(hex_id) %>%
  summarise(
    count = n(),
    mean_value = mean(value_column, na.rm = TRUE)
  )
```

## Data Privacy Considerations

**Important**: When using sensitive data (evictions, individual addresses):
- Aggregate to hexagon level before sharing
- Never publish individual addresses or personally identifiable information
- Follow local data privacy regulations
- Consider differential privacy techniques for public releases

## Getting Help

If you have data in a different format:
1. See `02_process_data.R` for examples of data processing
2. Consult the main README.md for integration instructions
3. Open an issue on GitHub with your data format question
